# 태그 기반 리소스 책임 분류 및 서비스별 비용 분석 보고서

**리전**: 서울 (ap-northeast-2)  
**분석 기간**: 2025년 5월 ~ 2025년 6월 (현재)  
**생성일**: 2025-06-19  

## 1. 요약

### 1.1 전체 비용 현황
- **5월 총 비용**: $26.82
- **6월 현재까지 비용**: $310.80 (19일 기준)
- **월 평균 증가율**: 약 1,058% 증가

### 1.2 주요 서비스별 비용 (6월 기준)
1. **Amazon EC2 Compute**: $192.32 (61.9%)
2. **EC2 - Other**: $34.96 (11.3%)
3. **Amazon RDS**: $35.16 (11.3%)
4. **Amazon VPC**: $29.21 (9.4%)
5. **Amazon EKS**: $18.68 (6.0%)

## 2. 태그 기반 리소스 분류 현황

### 2.1 태그 적용 현황 분석
총 **394개 리소스** 중 태그가 적용된 리소스를 분석한 결과:

#### 2.1.1 서비스별 태그 분류
- **service 태그**: 주로 EC2 인스턴스에 적용
  - kafka: 3개 인스턴스
  - spark: 3개 인스턴스  
  - bastion-host: 1개 인스턴스
  - jenkins: 1개 인스턴스
  - APP: 1개 인스턴스
  - rds: RDS 관련 리소스

#### 2.1.2 환경별 태그 분류
- **Environment 태그**: 대부분 리소스에 미적용
- **Tier 태그**: 네트워크 서브넷에 적용
  - web: 2개 서브넷
  - app: 2개 서브넷
  - db: 2개 서브넷
  - tools: 2개 서브넷

#### 2.1.3 중요도별 태그 분류
- **Criticality 태그**: AMI 이미지에 적용
  - high: 고중요도 서버
  - medium: 중간중요도 서버
  - low: 저중요도 서버

### 2.2 EKS 클러스터 리소스 분류
- **eks-main-cluster**: 주요 프로덕션 클러스터
- **watcha-clone-micro**: 마이크로서비스 클러스터
- **watcha-clone-cluster**: 추가 클러스터

#### 2.2.1 애플리케이션별 Pod 분류
- **apigateway-service**: API 게이트웨이
- **auth-service**: 인증 서비스
- **content-service**: 콘텐츠 서비스
- **member-service**: 회원 서비스
- **review-service**: 리뷰 서비스
- **ui-service**: UI 서비스
- **ad-service**: 광고 서비스
- **indexing-service**: 인덱싱 서비스
- **subscribe-service**: 구독 서비스

## 3. 책임 분류 및 비용 할당

### 3.1 팀별 책임 분류 (추정)

#### 3.1.1 인프라 팀
- **VPC 및 네트워킹**: $29.21 (9.4%)
- **EKS 클러스터 관리**: $18.68 (6.0%)
- **EC2 기타 비용**: $34.96 (11.3%)
- **총 책임 비용**: $82.85 (26.7%)

#### 3.1.2 데이터 팀
- **Kafka 클러스터**: EC2 비용 일부
- **Spark 클러스터**: EC2 비용 일부
- **SageMaker 서비스**: 소액
- **EMR Serverless**: 소액
- **추정 책임 비용**: $50.00 (16.1%)

#### 3.1.3 애플리케이션 팀
- **마이크로서비스 Pod들**: EKS 비용 일부
- **RDS 데이터베이스**: $35.16 (11.3%)
- **애플리케이션 EC2**: EC2 비용 일부
- **추정 책임 비용**: $120.00 (38.6%)

#### 3.1.4 DevOps 팀
- **Jenkins CI/CD**: EC2 비용 일부
- **ArgoCD**: EKS 비용 일부
- **모니터링 도구**: 소액
- **추정 책임 비용**: $25.00 (8.0%)

#### 3.1.5 보안 팀
- **KMS**: $0.45 (0.1%)
- **Secrets Manager**: $0.01 (0.0%)
- **VPN 엔드포인트**: VPC 비용 일부
- **추정 책임 비용**: $10.00 (3.2%)

### 3.2 미분류 리소스
- **태그 미적용 리소스**: 약 22.95 (7.4%)

## 4. 태그 거버넌스 개선 권고사항

### 4.1 필수 태그 정책 수립
다음 태그를 모든 리소스에 필수로 적용:
- **Environment**: prod, dev, test, staging
- **Team**: infrastructure, data, application, devops, security
- **Project**: 프로젝트명
- **Owner**: 담당자 이메일
- **CostCenter**: 비용센터 코드

### 4.2 자동화된 태그 적용
- **AWS Config Rules**: 태그 미적용 리소스 자동 탐지
- **Lambda 함수**: 신규 리소스 자동 태깅
- **CloudFormation/Terraform**: 인프라 코드에 태그 템플릿 적용

### 4.3 비용 할당 정확도 향상
- **세분화된 태그**: 서비스별, 기능별 상세 태그 적용
- **정기적인 태그 감사**: 월 1회 태그 적용 현황 점검
- **비용 할당 보고서**: 팀별 월간 비용 리포트 자동화

## 5. 비용 최적화 기회

### 5.1 EC2 인스턴스 최적화
- **Right-sizing**: 사용률 낮은 인스턴스 크기 조정
- **Reserved Instance**: 장기 실행 인스턴스 예약 구매
- **Spot Instance**: 개발/테스트 환경에 스팟 인스턴스 활용

### 5.2 RDS 최적화
- **Multi-AZ 검토**: 개발 환경 Multi-AZ 비활성화
- **백업 정책**: 불필요한 백업 보존 기간 단축
- **인스턴스 타입**: 워크로드에 맞는 인스턴스 타입 선택

### 5.3 EKS 최적화
- **노드 그룹 최적화**: 워크로드 기반 노드 크기 조정
- **Fargate 활용**: 간헐적 워크로드에 Fargate 사용
- **클러스터 통합**: 유사한 환경의 클러스터 통합 검토

## 6. 모니터링 및 알림 설정

### 6.1 비용 알림
- **예산 알림**: 팀별 월간 예산 초과 시 알림
- **이상 탐지**: 비정상적인 비용 증가 패턴 감지
- **일일 비용 리포트**: 주요 서비스별 일일 비용 변화

### 6.2 태그 컴플라이언스
- **태그 미적용 알림**: 신규 리소스 태그 미적용 시 즉시 알림
- **태그 정책 위반**: 잘못된 태그 값 사용 시 알림
- **정기 감사 리포트**: 주간 태그 컴플라이언스 리포트

## 7. 결론 및 다음 단계

### 7.1 주요 발견사항
1. **태그 적용률 부족**: 대부분의 리소스에 체계적인 태그 미적용
2. **비용 급증**: 5월 대비 6월 비용 10배 이상 증가
3. **EC2 비용 집중**: 전체 비용의 73% 이상이 EC2 관련

### 7.2 즉시 실행 항목
1. **태그 정책 수립**: 2주 내 필수 태그 정책 문서화
2. **기존 리소스 태깅**: 4주 내 모든 기존 리소스에 태그 적용
3. **자동화 구현**: 6주 내 자동 태깅 시스템 구축

### 7.3 중장기 계획
1. **비용 할당 시스템**: 3개월 내 팀별 자동 비용 할당 시스템 구축
2. **최적화 프로그램**: 6개월 내 지속적인 비용 최적화 프로세스 수립
3. **거버넌스 강화**: 1년 내 완전한 클라우드 재무 관리 체계 구축

---

**보고서 생성 정보**
- 생성 도구: Amazon Q CLI
- 데이터 소스: AWS Cost Explorer, Resource Groups Tagging API
- 마지막 업데이트: 2025-06-19 13:00 UTC
